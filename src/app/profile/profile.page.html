<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-col size="12" class="ion-text-center">
        <ion-avatar>
          <img *ngIf="profileImage; else defaultImage" [src]="profileImage" alt="Foto de perfil">
          <ng-template #defaultImage>
            <img src="assets/img/profile.jpg" alt="Foto de perfil">
          </ng-template>
        </ion-avatar>
        <ion-button fill="clear" color="secondary" class="camera-button" (click)="takePhoto()">
          <ion-icon name="camera-outline"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <form (ngSubmit)="onSubmit()">
    <!-- Nombre -->
    <ion-item class="custom-item">
      <ion-label position="floating">Nombre</ion-label>
      <ion-input type="text" [(ngModel)]="profile.nombre" name="nombre" required></ion-input>
    </ion-item>

    <!-- Apellidos -->
    <ion-item class="custom-item">
      <ion-label position="floating">Apellidos</ion-label>
      <ion-input type="text" [(ngModel)]="profile.apellidos" name="apellidos" required></ion-input>
    </ion-item>

    <!-- Edad -->
    <ion-item class="custom-item">
      <ion-label position="floating">Edad</ion-label>
      <ion-input type="number" [(ngModel)]="profile.edad" name="edad" min="0" required></ion-input>
    </ion-item>

    <!-- Whatsapp -->
    <ion-item class="custom-item">
      <ion-label position="floating">Whatsapp</ion-label>
      <ion-input type="tel" [(ngModel)]="profile.whatsapp" name="whatsapp"></ion-input>
    </ion-item>

    <!-- Carrera -->
    <ion-item class="custom-item">
      <ion-label position="floating">Carrera</ion-label>
      <ion-select placeholder="Selecciona tu carrera" [(ngModel)]="profile.carrera" name="carrera">
        <ion-select-option value="analistaProgramador">Analista Programador</ion-select-option>
        <ion-select-option value="ingenieriaInformatica">Ingeniería en Informática</ion-select-option>
        <ion-select-option value="ingenieriaTelecomunicaciones">Ingeniería en Telecomunicaciones</ion-select-option>
        <ion-select-option value="ingenieriaInfraestructura">Ingeniería en Infraestructura</ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Sede -->
    <ion-item class="custom-item">
      <ion-label position="floating">Sede</ion-label>
      <ion-select placeholder="Selecciona tu sede" [(ngModel)]="profile.sede" name="sede">
        <!-- Opciones de Sede -->
        <ion-select-option value="alameda">Sede Alameda</ion-select-option>
        <ion-select-option value="padreAlonso">Sede Padre Alonso de Ovalle</ion-select-option>
        <ion-select-option value="antonioVaras">Sede Antonio Varas</ion-select-option>
        <!-- Más opciones aquí... -->
      </ion-select>
    </ion-item>

    <!-- Preferencias -->
    <ion-card class="preferences-card">
      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-checkbox slot="start" [(ngModel)]="profile.recibirNotificaciones" name="recibirNotificaciones"></ion-checkbox>
            <ion-label>Recibir Notificaciones</ion-label>
          </ion-item>
          <ion-item>
            <ion-checkbox slot="start" [(ngModel)]="profile.mostrarPublico" name="mostrarPublico"></ion-checkbox>
            <ion-label>Mostrar Perfil Públicamente</ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Botones -->
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-button expand="block" color="primary" type="submit">Guardar Cambios</ion-button>
        </ion-col>
        <ion-col>
          <ion-button expand="block" color="secondary" routerLink="/home">Home</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
