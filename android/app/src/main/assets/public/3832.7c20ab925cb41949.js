"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3832],{3832:(S,m,l)=>{l.r(m),l.d(m,{NewsPageModule:()=>R});var u=l(177),E=l(4341),r=l(4742),v=l(9384),d=l(467),_=l(9496),e=l(4438),p=l(3625),g=l(4171);function h(n,a){if(1&n){const i=e.RV6();e.j41(0,"ion-content")(1,"ion-item-sliding")(2,"ion-item")(3,"ion-label")(4,"h2"),e.EFF(5),e.k0s(),e.j41(6,"p")(7,"strong"),e.EFF(8,"Sede:"),e.k0s(),e.EFF(9),e.k0s(),e.j41(10,"p")(11,"strong"),e.EFF(12,"Fecha:"),e.k0s(),e.EFF(13),e.k0s(),e.j41(14,"p")(15,"strong"),e.EFF(16,"Modalidad:"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"p")(19,"strong"),e.EFF(20,"Tipo de Actividad:"),e.k0s(),e.EFF(21),e.k0s(),e.j41(22,"p")(23,"strong"),e.EFF(24,"Ubicaci\xf3n:"),e.k0s(),e.EFF(25),e.k0s()()(),e.j41(26,"ion-item-options",3)(27,"ion-item-option",4),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.registrarse())}),e.EFF(28," Registrarme "),e.k0s(),e.j41(29,"ion-item-option",5),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.editarEvento())}),e.EFF(30," Editar Evento "),e.k0s(),e.j41(31,"ion-item-option",6),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.eliminarEvento())}),e.EFF(32," Eliminar Evento "),e.k0s()()()()}if(2&n){const i=e.XpG();e.R7$(5),e.JRh(i.event.tituloEvento),e.R7$(4),e.SpI(" ",i.event.sede,""),e.R7$(4),e.SpI(" ",i.event.fechaActividad,""),e.R7$(4),e.SpI(" ",i.event.modalidad,""),e.R7$(4),e.SpI(" ",i.event.tipoActividad,""),e.R7$(4),e.SpI(" ",i.event.dependencia,"")}}let F=(()=>{var n;class a{constructor(t,o,s){this.modalController=t,this.firebaseService=o,this.utilsService=s,this.eventUpdated=!1,this.eventDeleted=!1}dismissModal(){this.modalController.dismiss({updated:this.eventUpdated,deleted:this.eventDeleted})}registrarse(){this.utilsService.presentToast({message:"Funcionalidad de registro pendiente.",duration:2e3,color:"warning"})}editarEvento(){var t=this;return(0,d.A)(function*(){const o=yield t.modalController.create({component:_.m,componentProps:{event:t.event,isEditing:!0}});yield o.present();const{data:s}=yield o.onWillDismiss();null!=s&&s.isEdit&&(t.event={...s.event},t.eventUpdated=!0,t.utilsService.presentToast({message:"Evento actualizado correctamente",duration:2e3,color:"primary"}))})()}eliminarEvento(){var t=this;return(0,d.A)(function*(){var o;yield t.utilsService.presentConfirmAlert({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar este evento? Esta acci\xf3n es irreversible.",confirmText:"Eliminar",cancelText:"Cancelar",confirmHandler:(o=(0,d.A)(function*(){const s=yield t.utilsService.loading();yield s.present();try{yield t.firebaseService.deleteEvent(t.event.uid),yield s.dismiss(),t.utilsService.presentToast({message:"Evento eliminado correctamente.",duration:2e3,color:"success"}),t.eventDeleted=!0,t.dismissModal()}catch(c){yield s.dismiss(),t.utilsService.presentToast({message:"Error al eliminar el evento.",duration:2e3,color:"danger"}),console.error(c)}}),function(){return o.apply(this,arguments)})})})()}}return(n=a).\u0275fac=function(t){return new(t||n)(e.rXU(r.W3),e.rXU(p.f),e.rXU(g.T))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-event-detail"]],inputs:{event:"event"},decls:8,vars:1,consts:[["slot","end"],[3,"click"],[4,"ngIf"],["side","end"],["color","primary",3,"click"],["color","secondary",3,"click"],["color","danger",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Detalles del Evento"),e.k0s(),e.j41(4,"ion-buttons",0)(5,"ion-button",1),e.bIt("click",function(){return o.dismissModal()}),e.EFF(6,"Cerrar"),e.k0s()()()(),e.DNE(7,h,33,6,"ion-content",2)),2&t&&(e.R7$(7),e.Y8G("ngIf",o.event))},dependencies:[u.bT,r.Jm,r.QW,r.W9,r.eU,r.uz,r.LU,r.CE,r.A7,r.he,r.BC,r.ai],styles:[".custom-button[_ngcontent-%COMP%]{--background: linear-gradient(to right, #9b59b6, #8e44ad);--color: white;--border-radius: 20px;--box-shadow: 0px 4px 6px rgba(0, 0, 0, .1);margin-bottom:10px}ion-button[color=primary][_ngcontent-%COMP%]{background:linear-gradient(to right,#6a5acd,#9370db)}ion-button[color=secondary][_ngcontent-%COMP%]{background:linear-gradient(to right,#7a519a,#614a95)}ion-button[color=danger][_ngcontent-%COMP%]{background:linear-gradient(to right,#e74c3c,#c0392b)}"]}),a})();var y=l(7756);function k(n,a){if(1&n){const i=e.RV6();e.j41(0,"ion-item",4),e.bIt("click",function(){const o=e.eBV(i).$implicit,s=e.XpG(3);return e.Njj(s.openEventDetail(o))}),e.j41(1,"ion-label")(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.nI1(6,"date"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.k0s()()()}if(2&n){const i=a.$implicit;e.R7$(3),e.JRh(i.tituloEvento),e.R7$(2),e.JRh(e.bMT(6,3,i.fechaActividad)),e.R7$(3),e.JRh(i.sede)}}function C(n,a){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,k,9,5,"ion-item",3),e.k0s()),2&n){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.events)}}function b(n,a){if(1&n&&(e.qex(0),e.DNE(1,C,2,1,"ion-list",2),e.bVm()),2&n){const i=e.XpG(),t=e.sdS(9);e.R7$(),e.Y8G("ngIf",i.events.length>0)("ngIfElse",t)}}function N(n,a){}function j(n,a){1&n&&(e.j41(0,"ion-text",5)(1,"h3"),e.EFF(2,"No hay eventos disponibles en este momento."),e.k0s()())}const P=[{path:"",component:(()=>{var n;class a{constructor(t,o,s){this.modalController=t,this.firebaseService=o,this.utilsService=s,this.events=[],this.isLoading=!0}ngOnInit(){var t=this;return(0,d.A)(function*(){yield t.loadEvents()})()}loadEvents(){var t=this;return(0,d.A)(function*(){const o=yield t.utilsService.loading();yield o.present();try{const s=t.firebaseService.getEvents(),c=yield(0,y.GG)(s);t.events=c.docs.map(f=>({uid:f.id,...f.data()}))}catch(s){console.error("Error cargando eventos:",s),t.utilsService.presentToast({message:"Error al cargar eventos",color:"danger",duration:2500})}finally{t.isLoading=!1,yield o.dismiss()}})()}openEventDetail(t){var o=this;return(0,d.A)(function*(){const s=yield o.modalController.create({component:F,componentProps:{event:t}});yield s.present();const{data:c}=yield s.onWillDismiss();(null!=c&&c.updated||null!=c&&c.deleted)&&(yield o.loadEvents())})()}}return(n=a).\u0275fac=function(t){return new(t||n)(e.rXU(r.W3),e.rXU(p.f),e.rXU(g.T))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-news"]],decls:10,vars:2,consts:[["loading",""],["noEvents",""],[4,"ngIf","ngIfElse"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"ion-text-center"]],template:function(t,o){if(1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Noticias"),e.k0s()()(),e.j41(4,"ion-content"),e.DNE(5,b,2,2,"ng-container",2)(6,N,0,0,"ng-template",null,0,e.C5r)(8,j,3,0,"ng-template",null,1,e.C5r),e.k0s()),2&t){const s=e.sdS(7);e.R7$(5),e.Y8G("ngIf",!o.isLoading)("ngIfElse",s)}},dependencies:[u.Sq,u.bT,r.W9,r.eU,r.uz,r.he,r.nf,r.IO,r.BC,r.ai,u.vh]}),a})()}];let T=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[v.iI.forChild(P),v.iI]}),a})(),R=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[u.MD,E.YN,r.bv,T]}),a})()}}]);